<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
	<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset=utf-8">
	<TITLE>DELI: A J2EE DElivery context LIbrary for CC/PP and UAProf</TITLE>
	<META NAME="GENERATOR" CONTENT="OpenOffice.org 2.3  (Linux)">
	<META NAME="CREATED" CONTENT="0;0">
	<META NAME="CHANGEDBY" CONTENT="Mark Butler">
	<META NAME="CHANGED" CONTENT="20080417;10220300">
	<META NAME="Originator" CONTENT="Microsoft Word 9">
	<STYLE TYPE="text/css">
	<!--
		H3 { margin-left: 1.27cm; text-indent: -1.27cm; margin-bottom: 0.11cm; font-family: "Arial"; font-size: 13pt }
		H1 { margin-left: 0.76cm; text-indent: -0.76cm; margin-bottom: 0.11cm; font-family: "Arial"; font-size: 16pt }
		P.msonormal { margin-bottom: 0cm }
		H2 { margin-left: 1.02cm; text-indent: -1.02cm; margin-bottom: 0.11cm; font-family: "Arial"; font-size: 14pt; font-style: italic }
		P.msoendnotetext { margin-bottom: 0cm }
		P.msobodytext { margin-bottom: 0cm }
		P.msobodytext2 { margin-bottom: 0cm }
		P.msobodytext3 { margin-bottom: 0cm }
		A:link { color: #0000ff }
		A:visited { color: #800080 }
	-->
	</STYLE>
</HEAD>
<BODY LANG="en-GB" LINK="#0000ff" VLINK="#800080" DIR="LTR">
<P ALIGN=CENTER STYLE="margin-top: 0.42cm; page-break-after: avoid"><FONT FACE="Albany, sans-serif"><FONT SIZE=5><B>DELI:
A DElivery context LIbrary for CC/PP and UAProf</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><FONT FACE="Times New Roman, serif"><FONT SIZE=3>Mark
H. Butler (butlermh@sourceforge.net)</FONT></FONT></P>
<P STYLE="margin-bottom: 0cm"><BR>
</P>
<P STYLE="margin-bottom: 0cm">First published as HP Labs Technical
Report HPL-2001-260 <B>REVISED VERSION 16th April 2008</B></P>
<H1>Abstract</H1>
<P CLASS="msobodytext" STYLE="margin-bottom: 0.5cm"><FONT SIZE=3>Different
web-enabled devices have different input, output, hardware, software,
network and browser capabilities. In order for a web server or
web-based application to provide optimized content to different
clients it requires a description of the capabilities of the client
known as the delivery context. Two compatible standards have been
created for describing delivery context: Composite Capabilities /
Preferences Profile (CC/PP) created by the W3C and User Agent Profile
(UAProf) created by the Open Mobile Alliance, formerly known as the
WAP Forum. DELI is an open-source library developed at HP Labs that
allows Java servlets to resolve HTTP requests containing delivery
context information from CC/PP or UAProf capable devices and query
the resolved profile. It provides support for legacy devices so that
the proprietary delivery context descriptions currently used by
applications can be replaced by standardised CC/PP descriptions. DELI
also includes a validator to check UAProf profiles, and tools to
locate newly published profiles using Google, validate those
profiles, and do large scale analysis on them.</FONT></P>
<P CLASS="msobodytext" STYLE="margin-bottom: 0.5cm"><FONT SIZE=3>The
DELI work at HP Labs finished in 2002. </FONT>
</P>
<H1>Keywords</H1>
<P CLASS="msobodytext2" STYLE="margin-bottom: 0.5cm">Device
Independence, Composite Capabilities / Preferences Profile (CC/PP),
Resource Description Framework (RDF), Wireless Access Protocol (WAP),
User Agent Profile (UAProf)</P>
<H1>1 Introduction</H1>
<P CLASS="msonormal" ALIGN=JUSTIFY STYLE="margin-bottom: 0.5cm">Different
web-enabled devices have different input, output, hardware, software,
network and browser capabilities. In order for a web server or
web-based application to provide optimized content to different
clients it requires a description of the client capabilities.
Recently compatible standards have been created for describing
delivery context based on the Resource Description Framework (RDF)
<A HREF="#_edn1" NAME="_ednref1">[1]</A>: Composite Capabilities /
Preferences Profile (CC/PP) <A HREF="#_edn2" NAME="_ednref2">[2]</A>
created by the W3C and User Agent Profile (UAProf) created by the
Open Mobile Alliance, formerly known as the WAP Forum <A HREF="#_edn3" NAME="_ednref3">[3]</A>.
At the time of writing, CC/PP has not been used particularly widely,
but there are approximately 1200 published UAProf profiles. 
</P>
<P CLASS="msonormal" ALIGN=JUSTIFY STYLE="margin-bottom: 0.5cm">One
of the design aims of these standards was the efficient delivery of
delivery context to the server even via low bandwidth wireless
networks. This is achieved by the use of <I>profile references</I>
and <I>profile differences</I> that work as follows: instead of
sending an entire profile with every request a client only sends a
reference to a profile, stored on a third device known as a <I>profile
repository</I>, along with a list of overrides specific to this
particular client. The process of interpreting the profile references
and differences is known as <I>profile resolution</I>.</P>
<P CLASS="msobodytext2" STYLE="margin-bottom: 0.5cm">DELI is an
open-source library developed at HP Labs that allows Java servlets to
resolve HTTP requests containing CC/PP or UAProf information and
query the resolved profile. Development on DELI officially finished
in 2002, but there has been some further unofficial development since
then. This report describes how programmers can create delivery
context-aware servlets using DELI. It also details some observations
made during implemention and discusses their implications for CC/PP.
The DELI library and accompanying test-harnesses discussed here are
available open-source. To obtain a copy of the DELI source code,
please refer to the DELI web-site <A HREF="#_edn4" NAME="_ednref4">[4]</A>.</P>
<H1>2 RDF, CC/PP and UAProf</H1>
<H2>2.1 RDF</H2>
<P CLASS="msonormal" ALIGN=JUSTIFY STYLE="margin-bottom: 0.5cm">The
Resource Description Framework (RDF) is the W3C foundation for
processing metadata i.e. information about information. It aims to
provide interoperability between applications that exchange
machine-understandable information on the Web. RDF is currently
described in two documents: the RDF Model and Syntax Specification
<A HREF="#_edn5" NAME="_ednref5">[5]</A> and RDF Schema Specification
1.0 <A HREF="#_edn6" NAME="_ednref6">[6]</A>.</P>
<P CLASS="msobodytext2" STYLE="margin-bottom: 0.5cm">Essentially RDF
<I>models</I> consist of a collection of <I>statements</I> about
<I>resources</I>. A resource is anything named by a <I>URI</I> plus
an optional <I>anchor ID</I> e.g. in</P>
<P CLASS="msobodytext3" STYLE="margin-bottom: 0.5cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2>http://www.wapforum.org/profiles/UAPROF/ccppschema-20010430#HardwarePlatform</FONT></FONT></P>
<P>the URI is everying before the hash and the anchor ID is everying
after the hash. An RDF statement comprises of a specific resource
together with a named <I>property</I> plus the value of that property
for that resource. These three individual parts of a statement are
called, respectively, the <I>subject</I>, the <I>predicate</I>, and
the <I>object</I>. The object of a statement can be another resource
or it can be a <I>literal</I> i.e. a simple string or other primitive
datatype defined by XML. An RDF statement is shown in Figure 1.</P>
<P CLASS="msobodytext2" STYLE="margin-bottom: 0.5cm"><IMG SRC="" NAME="graphics5" ALIGN=LEFT WIDTH=403 HEIGHT=84 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="msobodytext2" STYLE="margin-bottom: 0.5cm">RDF can be
serialized using XML and CC/PP and UAProf profiles are normally
written in this form. However viewing profiles in serialized form is
deceptive as the underlying RDF model has a graph structure. In order
to better understand this, it is suggested that the reader
investigates the W3C RDF Validation Service <A HREF="#_edn7" NAME="_ednref7">[7]</A>.
</P>
<P CLASS="msobodytext2" STYLE="margin-bottom: 0.5cm">It is important
to note there are many possible serialisations of a single RDF model.
This means that parsing RDF models written in the XML serialisation
requires additional processing beyond that provided by an XML parser.
Fortunately there are a number of RDF frameworks now available that
automatically take XML serialisations of RDF and construct an RDF
model. DELI currently uses Jena <A HREF="#_edn8" NAME="_ednref8">[8]</A>,
an RDF Framework developed at HP Labs. For more details of using Jena
to process RDF see Brian McBride’s paper on Jena <A HREF="#_edn9" NAME="_ednref9">[9]</A>
and the HP Labs Semantic Web activity homepage <A HREF="#_edn10" NAME="_ednref10">[10]</A>.</P>
<H2>2.2 CC/PP</H2>
<P CLASS="msonormal" ALIGN=JUSTIFY STYLE="margin-bottom: 0.5cm">A
CC/PP profile is a description of device capabilities and user
preferences that can be used to guide the adaptation of content
presented to that device. CC/PP is described in three documents:
CC/PP Structure and Vocabularies <A HREF="#_edn11" NAME="_ednref11">[11]</A>,
CC/PP Requirements and Architecture <A HREF="#_edn12" NAME="_ednref12">[12]</A>
and CC/PP Terminology and Abbreviations <A HREF="#_edn13" NAME="_ednref13">[13]</A>.
A proposed (and largely deprecated) protocol for CC/PP is described
in two documents: CC/PP exchange protocol using HTTP extension
framework <A HREF="#_edn14" NAME="_ednref14">[14]</A> and Content
Negotiation Header in HTTP Scenarios <A HREF="#_edn15" NAME="_ednref15">[15]</A>.
The protocol work has been deprecated because the CC/PP Working Group
was not chartered by the W3C to do protocol work. However these
documents formed the basis for the UAProf protocol work to be
discussed in the next section.</P>
<P CLASS="msonormal" ALIGN=JUSTIFY STYLE="margin-bottom: 0.5cm">A
CC/PP profile is broadly constructed as a two level hierarchy: a
profile has a number of <I>components</I> and each component has a
number of <I>attributes</I>. The attributes of a component may be
included directly in a profile document, or may be specified by
reference to a default profile that may be stored separately and
accessed via a URL. CC/PP distinguishes between default and
non-default values attributes such that non-default values always
takes precedence.</P>
<P CLASS="msonormal" ALIGN=JUSTIFY STYLE="margin-bottom: 0.5cm">Although
a CC/PP profile is a two level hierarchy, it is commonly represented
using an XML serialisation of an RDF model. Crucially the underlying
RDF model describing a profile is more complicated than a two level
hierarchy. This can be demonstrated by processing a profile using the
W3C RDF validation service referenced in the previous section. Some
examples of these complexities are as follows: First, simply giving a
component a standard name (e.g. HardwarePlatform) is not sufficient
to distinguish it as a particular component. In addition it must have
an <FONT FACE="Times New Roman, serif"><FONT SIZE=3><I>rdf:type</I></FONT></FONT><FONT FACE="Courier New"><FONT SIZE=2 STYLE="font-size: 9pt">
</FONT></FONT>property that indicates it is an instance of a
particular component type in a particular namespace as shown in
Figure 2.</P>
<P CLASS="msonormal" ALIGN=JUSTIFY STYLE="margin-bottom: 0.5cm"><IMG SRC="" NAME="graphics1" ALIGN=LEFT WIDTH=519 HEIGHT=153 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="msonormal" ALIGN=JUSTIFY STYLE="margin-bottom: 0.5cm">Second,
default values are represented by a component containing a second
component referenced via a <FONT FACE="Times New Roman, serif"><FONT SIZE=3><I>ccpp:Defaults</I></FONT></FONT>
property as shown in Figure 3. Note this Figure shows a profile with
multiple values for the same attribute. Using the resolution rules,
<FONT FACE="Times New Roman, serif"><FONT SIZE=3><I>SoundOutputCapable</I></FONT></FONT>
will be resolved to <FONT FACE="Times New Roman, serif"><FONT SIZE=3><I>No.</I></FONT></FONT></P>
<P CLASS="msonormal" ALIGN=JUSTIFY STYLE="margin-bottom: 0.5cm"><IMG SRC="" NAME="graphics2" ALIGN=LEFT WIDTH=614 HEIGHT=357 BORDER=0><BR><BR>
</P>
<P CLASS="msonormal" ALIGN=JUSTIFY STYLE="margin-bottom: 0.5cm"><IMG SRC="" NAME="graphics3" ALIGN=LEFT WIDTH=2 HEIGHT=2 BORDER=0><IMG SRC="DeliUserGuide_html_m188aed5a.gif" NAME="graphics4" ALIGN=LEFT WIDTH=632 HEIGHT=357 BORDER=0>Third,
complex (multiple-value) attributes are represented by an RDF
construct known as an anonymous node. The anonymous node has an
associated <FONT FACE="Times New Roman, serif"><FONT SIZE=3><I>rdf:type</I></FONT></FONT>
property that indicates whether it is an unordered (<FONT FACE="Times New Roman, serif"><FONT SIZE=3><I>Bag</I></FONT></FONT>)
list or an ordered (<FONT FACE="Times New Roman, serif"><FONT SIZE=3><I>Seq</I></FONT></FONT>)
list. It also possesses several numbered properties that point to the
multiple attribute values as shown in Figure 4.</P>
<P CLASS="msonormal" ALIGN=JUSTIFY STYLE="margin-bottom: 0.5cm"><BR><BR>
</P>
<P CLASS="msonormal" ALIGN=JUSTIFY STYLE="margin-bottom: 0.5cm">As an
approved protocol does not yet exist for CC/PP, it has not been
possible to implement a CC/PP protocol in DELI. However the DELI
architecture has been designed so that it will be easy to add such a
protocol in the future. In addition DELI was designed specifically so
it can process many different CC/PP vocabularies. This is essential
as CC/PP does not propose any vocabularies for describing device
capabilities instead only providing an underlying structure for such
vocabularies.</P>
<H2>2.3 UAProf</H2>
<P CLASS="msonormal" ALIGN=JUSTIFY STYLE="margin-bottom: 0.5cm">The
UAProf specification<A HREF="#_edn16" NAME="_ednref16">[16]</A> is
based on the CC/PP specification. Like CC/PP, a UAProf profile is a
two level hierarchy composed of components and attributes. Unlike
CC/PP, the UAProf specification also proposes a vocabulary – a
specific set of components and attributes – to describe the next
generation of WAP phones.</P>
<P CLASS="msobodytext2" STYLE="margin-bottom: 0.5cm">The
specification also describes two protocols for transmitting the
profile from the client to the server. Currently DELI only supports
one of the UAProf protocols. This is because the other UAProf
protocol, based on HTTPex and WSP, is intended to be used for client
to gateway communication rather than client to server communication.
DELI attempts to provide server rather than gateway support so this
protocol is beyond the scope of the current implementation. In
addition UAProf can also be used when documents are “pushed” from
the server to the client without the client issuing a request. DELI
does not support the push environment at present. Finally the UAProf
specification describes a binary encoding of UAProf profiles. Binary
encoding and decoding of profiles is typically performed by the
gateway so this is also beyond the scope of DELI.</P>
<H3>2.3.1 UAProf Profiles</H3>
<P CLASS="msonormal" ALIGN=JUSTIFY STYLE="margin-bottom: 0.5cm"><FONT FACE="Times New Roman, serif"><FONT SIZE=3>Currently
profiles using the UAProf vocabulary consist of six components:
<I>HardwarePlatform</I>, <I>SoftwarePlatform</I>,
<I>NetworkCharacteristics</I>, <I>BrowserUA</I>, <I>WapCharacteristics</I>
and <I>PushCharacteristics</I>. These components contain attributes.
In DELI each attribute has a distinct name and has an associated
collection type, attribute type and resolution rule. In UAProf there
are three collection types:</FONT></FONT></P>
<UL>
	<LI><P><FONT FACE="Times New Roman, serif"><FONT SIZE=3><I>Simple</I>
	contains a single value e.g. <I>ColorCapable</I> in
	<I>HardwarePlatform</I>. Note the UAProf specification does not give
	a name to single value attributes so the term Simple has been
	adopted from the CC/PP specification.</FONT></FONT></P>
	<LI><P><FONT FACE="Times New Roman, serif"><FONT SIZE=3><I>Bag</I>
	contains multiple unordered values e.g. <I>BluetoothProfile</I> in
	the <I>HardwarePlatform</I> component. </FONT></FONT>
	</P>
	<LI><P><FONT FACE="Times New Roman, serif"><FONT SIZE=3><I>Seq</I>
	contains multiple ordered values e.g. <I>Ccpp-AcceptLanguage</I> in
	the <I>SoftwarePlatform</I> component. </FONT></FONT>
	</P>
</UL>
<P CLASS="msobodytext2" STYLE="margin-bottom: 0.5cm"><FONT FACE="Times New Roman, serif"><FONT SIZE=3>In
addition attributes can have one of four attribute types:</FONT></FONT></P>
<UL>
	<LI><P CLASS="msobodytext3" STYLE="margin-bottom: 0.5cm"><FONT FACE="Times New Roman, serif"><FONT SIZE=3><I>String</I>
	e.g. <I>BrowserName</I> in <I>BrowserUA</I>.</FONT></FONT></P>
	<LI><P ALIGN=JUSTIFY><FONT FACE="Times New Roman, serif"><FONT SIZE=3><I>Boolean</I>
	e.g. <I>ColorCapable</I> in <I>HardwarePlatform</I>. </FONT></FONT>
	</P>
	<LI><P ALIGN=JUSTIFY><FONT FACE="Times New Roman, serif"><FONT SIZE=3><I>Number</I>
	is a positive integer e.g. <I>BitsPerPixel</I> in <I>HardwarePlatform</I>.
	</FONT></FONT>
	</P>
	<LI><P><FONT FACE="Times New Roman, serif"><FONT SIZE=3><I>Dimension</I>
	is a pair of positive integers e.g. <I>ScreenSize</I> in
	<I>HardwarePlatform</I>. </FONT></FONT>
	</P>
</UL>
<P CLASS="msonormal" ALIGN=JUSTIFY STYLE="margin-bottom: 0.5cm"><FONT FACE="Times New Roman, serif"><FONT SIZE=3>Finally
attributes are associated with a resolution rule:</FONT></FONT></P>
<UL>
	<LI><P><FONT FACE="Times New Roman, serif"><FONT SIZE=3><I>Locked</I>
	indicates the final value of an attribute is the first occurrence of
	the attribute outside the default description block. </FONT></FONT>
	</P>
	<LI><P><FONT FACE="Times New Roman, serif"><FONT SIZE=3><I>Override</I>
	indicates the final value of an attribute is the last occurrence of
	the attribute outside the default description block. </FONT></FONT>
	</P>
	<LI><P><FONT FACE="Times New Roman, serif"><FONT SIZE=3><I>Append</I>
	indicates the final value of the attribute is the list of all
	occurrences of the attribute outside the default description block. </FONT></FONT>
	</P>
</UL>
<P CLASS="msonormal" ALIGN=JUSTIFY STYLE="margin-bottom: 0.5cm"><FONT FACE="Times New Roman, serif"><FONT SIZE=3>DELI
can read UAProf schema files such as </FONT></FONT><FONT FACE="Times New Roman, serif"><FONT SIZE=3><I>ccppschema-20010330.rdfs</I></FONT></FONT><FONT FACE="Times New Roman, serif"><FONT SIZE=3>.
found in the </FONT></FONT><FONT FACE="Times New Roman, serif"><FONT SIZE=3><I>config/vocab</I></FONT></FONT><FONT FACE="Times New Roman, serif"><FONT SIZE=3>
directory. Note these files are derived from sche</FONT></FONT>mas
obtained from the OMA website but have been corrected for a number of
RDF errors <A HREF="#_edn17" NAME="_ednref17">[17]</A>. 
</P>
<H3>2.3.2 UAProf W-HTTP Protocol</H3>
<P CLASS="msobodytext2" STYLE="margin-bottom: 0.5cm">As mentioned
previously DELI only implements one of the UAProf protocols:
transport via W-HTTP (Wireless profiled HTTP). An example W-HTTP
request using this protocol is shown below:</P>
<P CLASS="msobodytext3"><FONT FACE="Courier New, monospace"><FONT SIZE=2>GET
/ccpp/html/ HTTP/1.1</FONT></FONT></P>
<P CLASS="msobodytext3"><FONT FACE="Courier New, monospace"><FONT SIZE=2>Host:
localhost</FONT></FONT></P>
<P CLASS="msobodytext3"><FONT FACE="Courier New, monospace"><FONT SIZE=2>x-wap-profile:&quot;http://localhost:8080/ccpp/profiles/test09defaults.rdf&quot;,</FONT></FONT></P>
<P CLASS="msobodytext3" STYLE="text-indent: 1.27cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2>&quot;1-Rb0sq/nuUFQU75vAjKyiHw==&quot;</FONT></FONT></P>
<P CLASS="msobodytext3"><FONT FACE="Courier New, monospace"><FONT SIZE=2>x-wap-profile-diff:1;&lt;?xml
version=&quot;1.0&quot;?&gt;</FONT></FONT></P>
<P CLASS="msobodytext3">&nbsp;<FONT FACE="Courier New, monospace"><FONT SIZE=2>&lt;rdf:RDF
xmlns=&quot;http://www.w3.org/1999/02/22-rdf-syntax-ns#&quot;</FONT></FONT></P>
<P CLASS="msobodytext3">&nbsp;
<FONT FACE="Courier New, monospace"><FONT SIZE=2>xmlns:rdf=&quot;http://www.w3.org/1999/02/22-rdf-syntax-ns#&quot;</FONT></FONT></P>
<P CLASS="msobodytext3">&nbsp;
<FONT FACE="Courier New, monospace"><FONT SIZE=2>xmlns:prf=&quot;http://www.wapforum.org/profiles/UAPROF/ccppschema-20010430#&quot;&gt;</FONT></FONT></P>
<P CLASS="msobodytext3">&nbsp; <FONT FACE="Courier New, monospace"><FONT SIZE=2>&lt;rdf:Description
rdf:ID=&quot;MyDeviceProfile&quot;&gt;</FONT></FONT></P>
<P CLASS="msobodytext3">&nbsp;&nbsp;&nbsp;&nbsp; <FONT FACE="Courier New, monospace"><FONT SIZE=2>&lt;prf:component&gt;</FONT></FONT></P>
<P CLASS="msobodytext3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<FONT FACE="Courier New, monospace"><FONT SIZE=2>&lt;rdf:Description
rdf:ID=&quot;HardwarePlatform&quot;&gt;</FONT></FONT></P>
<P CLASS="msobodytext3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<FONT FACE="Courier New, monospace"><FONT SIZE=2>&lt;rdf:type</FONT></FONT></P>
<P CLASS="msobodytext3">&nbsp;
<FONT FACE="Courier New, monospace"><FONT SIZE=2>rdf:resource=&quot;http://www.wapforum.org/profiles/UAPROF/ccppschema-</FONT></FONT></P>
<P CLASS="msobodytext3">&nbsp;&nbsp;&nbsp;
<FONT FACE="Courier New, monospace"><FONT SIZE=2>20010426#HardwarePlatform&quot;/&gt;</FONT></FONT></P>
<P CLASS="msobodytext3">&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<FONT FACE="Courier New, monospace"><FONT SIZE=2>&lt;prf:BitsPerPixel&gt;16&lt;/prf:BitsPerPixel&gt;</FONT></FONT></P>
<P CLASS="msobodytext3" STYLE="text-indent: 1.27cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2>&lt;/rdf:Description&gt;</FONT></FONT></P>
<P CLASS="msobodytext3">&nbsp;&nbsp;&nbsp;&nbsp; <FONT FACE="Courier New, monospace"><FONT SIZE=2>&lt;/prf:component&gt;</FONT></FONT></P>
<P CLASS="msobodytext3">&nbsp; <FONT FACE="Courier New, monospace"><FONT SIZE=2>&lt;/rdf:Description&gt;</FONT></FONT></P>
<P CLASS="msobodytext3">&nbsp;<FONT FACE="Courier New, monospace"><FONT SIZE=2>&lt;/rdf:RDF&gt;</FONT></FONT></P>
<P CLASS="msonormal" ALIGN=JUSTIFY STYLE="margin-bottom: 0.5cm">&nbsp;</P>
<P CLASS="msonormal" ALIGN=JUSTIFY STYLE="margin-bottom: 0.5cm"><FONT FACE="Times New Roman, serif"><FONT SIZE=3>The
first two lines of this request are standard HTTP and describe the
resource that is being requested by the client,
<I>http://localhost/ccpp/html</I>, and the method being used to make
the request, GET, and the protocol being used HTTP/1.1. The remaining
lines of the request describe the device delivery context. This is
specified using a profile reference and a profile-diff. The profile
is referenced via the <I>x-wap-profile</I> line and has the URI</FONT></FONT></P>
<P CLASS="msonormal" ALIGN=JUSTIFY STYLE="margin-bottom: 0.5cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2>http://localhost:8080/ccpp/profiles/test09defaults.rdf.</FONT></FONT></P>
<P CLASS="msonormal" ALIGN=JUSTIFY STYLE="margin-bottom: 0.5cm"><FONT FACE="Times New Roman, serif"><FONT SIZE=3>After
the profile reference, there is a value </FONT></FONT><FONT FACE="Times New Roman, serif"><FONT SIZE=3><I>1-Rb0sq/nuUFQU75vAjKyiHw==</I></FONT></FONT><FONT FACE="Times New Roman, serif"><FONT SIZE=3>
known as a </FONT></FONT><FONT FACE="Times New Roman, serif"><FONT SIZE=3><I>profile-diff
digest</I></FONT></FONT><FONT FACE="Times New Roman, serif"><FONT SIZE=3>.
The first part of the profile-diff-digest, 1-, is the </FONT></FONT><FONT FACE="Times New Roman, serif"><FONT SIZE=3><I>profile-diff
sequence number</I></FONT></FONT><FONT FACE="Times New Roman, serif"><FONT SIZE=3>.
This is used to indicate the order of the profile-diffs and to
indicate which profile-diff the profile-diff digest refers to. The
remainder of the profile-diff digest is generated by applying the MD5
message digest algorithm<A HREF="#_edn18" NAME="_ednref18">[18]</A>
and Base64 algorithm<A HREF="#_edn19" NAME="_ednref19">[19]</A> to
the corresponding profile-diff. The MD5 algorithm takes as input a
message of arbitary length and produces as output a 128-bit
“fingerprint” or “message-digest” of the input. The Base64
algorithm takes as input arbitary binary data and produces as output
printable encoding data.</FONT></FONT></P>
<P CLASS="msonormal" ALIGN=JUSTIFY STYLE="margin-bottom: 0.5cm"><FONT FACE="Times New Roman, serif"><FONT SIZE=3>After
the profile-diff digest, the next line contains the
</FONT></FONT><FONT FACE="Times New Roman, serif"><FONT SIZE=3><I>x-wap-profile-diff</I></FONT></FONT><FONT FACE="Times New Roman, serif"><FONT SIZE=3>.
This request header field also has a profile-diff sequence number
which indicates the processing order and that this profile-diff
corresponds to the previous profile-diff-digest. The profile-diff
itself consists of the XML fragment which spans the remainder of the
request. Multi-line request header fields are permitted by the
HTTP/1.1 specification<A HREF="#_edn20" NAME="_ednref20">[20]</A> as
long as each subsequent line starts with either a tab character or a
whitespace. Note not all servlet engines, for example early versions
of Tomcat, fully support the HTTP/1.1 specification so may not allow
multi-line request header fields.&nbsp;</FONT></FONT></P>
<P CLASS="msonormal" ALIGN=JUSTIFY STYLE="margin-bottom: 0.5cm"><FONT FACE="Times New Roman, serif"><FONT SIZE=3>In
addition to <I>x-wap-profile</I> and <I>x-wap-profile-diff</I> W-HTTP
protocol adds a third extension header primarily used in responses.
This header, <I>x-wap-profile-warning</I> indicates whether the
server has used the UAProf information when generating the response.
This can take five possible values: not applied, content selection
applied, content generation applied, transformation applied and not
supported.</FONT></FONT></P>
<H3>2.3.3 Profile Resolution</H3>
<P CLASS="msobodytext2" STYLE="margin-bottom: 0.5cm"><FONT FACE="Times New Roman, serif"><FONT SIZE=3>When
the server receives a HTTP request with UAProf request headers, it
has to perform profile resolution i.e. retrieve the referenced
profile(s) and any further profiles referenced via default blocks. It
then has to merge these profiles and the profile-diffs while applying
the UAProf resolution rules.</FONT></FONT></P>
<P CLASS="msobodytext2" STYLE="margin-bottom: 0.5cm"><FONT FACE="Times New Roman, serif"><FONT SIZE=3>DELI
performs profile resolution by processing all profiles and
profile-diffs in the following order: firstly it processes all
referenced profiles in the order they are present in the
<I>x-wap-profile</I> request header. If a referenced profile
references an external default profile then that is included where it
is referenced. It then processes all the profile-diffs. This profile
processing operation involves building an RDF model for each profile
or profile-diff and then extracting a list of attributes from the
model. Each attribute is associated with an attribute name, an
attribute type, a collection type, a resolution rule and either one
or more default values or one or more non-default values. These
attributes are then appended together in the order indicated.</FONT></FONT></P>
<P CLASS="msobodytext2" STYLE="margin-bottom: 0.5cm"><FONT FACE="Times New Roman, serif"><FONT SIZE=3>After
DELI has produced the vector of profile attributes, profile merging
is performed which involves taking each attribute in order from the
list and placing it at a specific position in an array determined by
the attribute name. If a collision occurs i.e. an attribute is
already present in the array then the two attribute values are merged
using the following rules:</FONT></FONT></P>
<UL>
	<LI><P ALIGN=JUSTIFY><FONT FACE="Times New Roman, serif"><FONT SIZE=3>If
	the colliding attribute contains one or more default values it is
	ignored, as non-defaults always override defaults and a default
	takes the value of the first default value (or set of default
	values) encountered. </FONT></FONT>
	</P>
	<LI><P ALIGN=JUSTIFY><FONT FACE="Times New Roman, serif"><FONT SIZE=3>If
	the colliding attribute contains one or more non-default values and
	the original attribute only contains one or more default values,
	then the colliding attribute overrides the original attribute. </FONT></FONT>
	</P>
	<LI><P ALIGN=JUSTIFY><FONT FACE="Times New Roman, serif"><FONT SIZE=3>If
	the colliding attribute and the original attribute both contain
	non-default values, then the resolution rules are used. If the
	attribute resolution rule is <I>Locked</I> then non-default values
	cannot be subsequently overridden. If the attribute resolution rule
	is <I>Override</I> then non-default values can be subsequently
	overridden. If the attribute resolution rule is <I>Append</I> then
	all the non-default values are appended together. </FONT></FONT>
	</P>
</UL>
<P CLASS="msonormal" ALIGN=JUSTIFY STYLE="margin-bottom: 0.5cm"><FONT FACE="Times New Roman, serif"><FONT SIZE=3>Note
that this algorithm does not perform merging in the RDF domain,
rather it performs merging after the attributes have been retrieved
from the RDF domain.</FONT></FONT></P>
<H2>2.4 Content Selection, Generation and Transformation</H2>
<P CLASS="msonormal" ALIGN=JUSTIFY STYLE="margin-bottom: 0.5cm">Neither
the UAProf nor the CC/PP specifications consider how the profile
should select, generate or transform content based on the resolved
profile. An extensive discussion of this topic is beyond the scope of
this report so the reader is instead referred to previous technical
reports by the author discussing content transformation by XML / XSLT
publishing frameworks <A HREF="#_edn21" NAME="_ednref21">[21]</A>,
content generation using constraint optimisation and content
negotiation <A HREF="#_edn22" NAME="_ednref22">[22]</A>.</P>
<P CLASS="msonormal" ALIGN=JUSTIFY STYLE="margin-bottom: 0.5cm">DELI
also currently provides no support for content selection, generation
or transformation. Instead it is proposed that DELI should be
integrated with existing applications that transform content for
clients based on the user agent string. From version 2.0.2, Apache
Cocoon <A HREF="#_edn23" NAME="_ednref23">[23]</A> provides support
for CC/PP using DELI. With DELI support enabled it is currently
possible for XSLT stylesheets to query profile attributes. For more
information on this, download the latest version of Cocoon from the
Cocoon CVS and look at the static samples to see the DELI
documentation. Future work will investigate other ways of using CC/PP
information in Cocoon. Other frameworks such as Apache Jetspeed <A HREF="#_edn24" NAME="_ednref24">[24]</A>
or Apache Struts <A HREF="#_edn25" NAME="_ednref25">[25]</A> could be
adapted in a similar way. 
</P>
<H1>3 Installing DELI</H1>
<P CLASS="msonormal" ALIGN=JUSTIFY STYLE="margin-bottom: 0.5cm"><FONT FACE="Times New Roman, serif"><FONT SIZE=3>In
order to install DELI and run the test servlets, you will need a Java
installation along with a Java Servlet engine that can accept WAR
files such as Apache Tomcat 4 <A HREF="#_edn26" NAME="_ednref26">[26]</A>
or Mortbay Jetty <A HREF="#_edn27" NAME="_ednref27">[27]</A>. In
addition if you wish to do any development or customising of DELI you
will need Apache Ant <A HREF="#_edn28" NAME="_ednref28">[28].</A> By
default DELI supports Microsoft Internet Explorer as legacy devices.</FONT></FONT></P>
<P CLASS="msobodytext2" STYLE="margin-bottom: 0.5cm"><FONT FACE="Times New Roman, serif"><FONT SIZE=3>Installation
of the DELI test servlet is easy. Once you have confirmed your Java
Servlet engine is working correctly, unzip the DELI distribution file
to the directory DELI_ROOT. Copy the file <I>DELI_ROOT\warfiles\ccpp.war</I>
into the <I>webapps</I> directory of the Servlet engine. For example
if you installed Tomcat in <I>c:\apps32\tomcat</I> then you need to
copy <I>ccpp.war</I> to <I>c:\apps32\tomcat\webapps\ccpp.war</I>.
Start the servlet engine and use Internet Explorer to check the DELI
installation is working. If you type the following address into MSIE</FONT></FONT></P>
<P CLASS="msobodytext3" STYLE="margin-bottom: 0.5cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2>http://localhost:8080/ccpp/html/</FONT></FONT></P>
<P CLASS="msobodytext2" STYLE="margin-bottom: 0.5cm"><FONT FACE="Times New Roman, serif"><FONT SIZE=3>then
the browser should display the contents of the profile
profiles\msie.rdf in the DELI distribution. In addition by default
DELI will output debugging information to the Servlet engine console.
</FONT></FONT>
</P>
<P CLASS="msobodytext2" STYLE="margin-bottom: 0.5cm"><FONT FACE="Times New Roman, serif"><FONT SIZE=3>Alternatively
you can try sending some real UAProf requests to the server. To do
this, you need to add various files to your classpath. Open a
Dos/Unix shell and cd to DELI_ROOT. Then set the environment
variables <I>DELI_HOME</I> and <I>CATALINA_HOME</I> to point to the
DELI root directory and tomcat root directory respectively. For
example, in Windows you would execute ‘<I>set DELI_HOME=c:\deli</I>’
and ‘<I>set CATALINA_HOME=c:\jakarta-tomcat-4.0.4</I>‘. Then run
<I>winsetpath.bat</I> at the command line (note <I>winsetpath.bat</I>
is Microsoft specific – for UNIX machines you will have to adapt
this file). Then type</FONT></FONT></P>
<P CLASS="msobodytext2" STYLE="margin-bottom: 0.5cm"><FONT FACE="Courier New"><FONT SIZE=2 STYLE="font-size: 9pt">java
com.hp.hpl.deliTest.TestCCPPClient normal
http://localhost:8080/ccpp/profiles/testprofiles/test09defaults.rdf
profiles\testprofiles\test09.rdf output.html</FONT></FONT>&nbsp;</P>
<P CLASS="msobodytext2" STYLE="margin-bottom: 0.5cm"><FONT FACE="Times New Roman, serif"><FONT SIZE=3>which
sends a HTTP request to the server with a profile reference
<I>http://localhost:8080/ccpp/profiles/testprofiles/test09defaults.rdf</I>
and uses the file <I>profiles\testprofiles\test09.rdf</I> as a
profile-diff. When it receives a response from the server it stores
it in <I>output.html</I>. To view the server response open
<I>output.html</I> in a web browser. For more details of running and
testing DELI, see the Section 9.</FONT></FONT></P>
<H2>3.1 Configuring Legacy Devices</H2>
<P CLASS="msobodytext2" STYLE="margin-bottom: 0.5cm">It is easy to
configure DELI to recognise legacy devices via user-agent strings.
User-agent strings are used by web clients to identify themselves
when they send requests to web servers. This is done primarily for
statistical purposes and the tracing of protocol violations but does
support the automated recognition of user agents. For example early
Netscape products generate user-agent strings that look like this:</P>
<P CLASS="msobodytext3" STYLE="margin-bottom: 0.5cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2>User-agent:
Mozilla/4.04 (X11; I; SunOS 5.4 sun4m)</FONT></FONT></P>
<P CLASS="msobodytext2" STYLE="margin-bottom: 0.5cm">Where the user
agent string has the following syntax:</P>
<P CLASS="msobodytext3" STYLE="margin-bottom: 0.5cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2>Browser
/ version( platform ; security-level; OS-or-CPU description)</FONT></FONT></P>
<P CLASS="msobodytext2" STYLE="margin-bottom: 0.5cm"><FONT FACE="Times New Roman, serif"><FONT SIZE=3>The
legacy device configuration file maps user-agent strings on to
profile references on a profile repository. In the test applications
this is done by the <I>DELI_ROOT\config\legacyDevice.xml</I> file,
although it is possible to select a different file via the DELI
configuration. The legacy device configuration file has the following
format:</FONT></FONT></P>
<P CLASS="msobodytext3"><BR>
</P>
<P CLASS="msobodytext3"><FONT FACE="Courier New, monospace"><FONT SIZE=2>@prefix
:        &lt;file:///home/butlerma/workspace/deli2/#&gt; . </FONT></FONT>
</P>
<P CLASS="msobodytext3"><FONT FACE="Courier New, monospace"><FONT SIZE=2>@prefix
rdfs:    &lt;http://www.w3.org/2000/01/rdf-schema#&gt; . </FONT></FONT>
</P>
<P CLASS="msobodytext3"><FONT FACE="Courier New, monospace"><FONT SIZE=2>@prefix
deli:    &lt;http://delicon.sourceforge.net/schema#&gt; . </FONT></FONT>
</P>
<P CLASS="msobodytext3"><FONT FACE="Courier New, monospace"><FONT SIZE=2>@prefix
rdf:     &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt; .</FONT></FONT></P>
<P CLASS="msobodytext3"><BR>
</P>
<P CLASS="msobodytext3"><FONT FACE="Courier New, monospace"><FONT SIZE=2>&lt;http://purl.oclc.org/NET/butlermh/deli/devices#DELI-MSIE-&gt;
</FONT></FONT>
</P>
<P CLASS="msobodytext3">   <FONT FACE="Courier New, monospace"><FONT SIZE=2>a
      deli:Profile ; </FONT></FONT>
</P>
<P CLASS="msobodytext3">   <FONT FACE="Courier New, monospace"><FONT SIZE=2>deli:deviceName
&quot;Internet Explorer&quot; , &quot;MSIE&quot; ; </FONT></FONT>
</P>
<P CLASS="msobodytext3">   <FONT FACE="Courier New, monospace"><FONT SIZE=2>deli:file
&quot;msie.rdf&quot; ; </FONT></FONT>
</P>
<P CLASS="msobodytext3">   <FONT FACE="Courier New, monospace"><FONT SIZE=2>deli:manufacturedBy
&lt;http://purl.oclc.org/NET/butlermh/deli/manufacturers#DELI&gt; ; </FONT></FONT>
</P>
<P CLASS="msobodytext3">   <FONT FACE="Courier New, monospace"><FONT SIZE=2>deli:profileSuppliedByVendor
&quot;false&quot; ; </FONT></FONT>
</P>
<P CLASS="msobodytext3">   <FONT FACE="Courier New, monospace"><FONT SIZE=2>deli:useragent
&quot;Mozilla&quot; .</FONT></FONT></P>
<P CLASS="msobodytext3"><BR>
</P>
<P CLASS="msobodytext2" STYLE="margin-bottom: 0.5cm"><FONT FACE="Times New Roman, serif"><FONT SIZE=3>Where
<I>useragent</I> is a device unique string found in the user-agent
string of the device and <I>file</I> is a local file URL for the
appropriate profile Note typically part of the user-agent string is
used rather than the entire string. This is done to avoid problems
due to cloaking and browser customisation.</FONT></FONT></P>
<P CLASS="msobodytext2" STYLE="margin-bottom: 0.5cm"><I>Cloaking</I>
is when a device or browser (e.g. Microsoft Internet Explorer) claims
to be another browser (e.g. Mozilla) in order to ensure web servers
will send it the correct content. <I>Browser customisation</I> is
when the device manufacturer or the owner can change the user-agent
string to add the company name. This means identical browsers may not
have the same user agent string. In order to avoid confusion caused
by cloaking and customisation it is necessary to think carefully
about how much of the user-agent string to use and the order of
legacy devices in the legacy device file. For example when creating a
legacy device file it is a good idea to have an Internet Explorer
legacy device before a Netscape legacy device as they both contain
the user agent string Mozilla, but Internet Explorer will also
contain the user agent string MSIE so it is possible to identify IE
first.</P>
<H2>3.2 Rebuilding DELI</H2>
<P CLASS="msonormal" ALIGN=JUSTIFY STYLE="margin-bottom: 0.5cm"><FONT FACE="Times New Roman, serif"><FONT SIZE=3>If
you change any of the files e.g. configuration files or need to alter
any of the source files it is necessary to rebuild the DELI web
archive (WAR) file. In order to do this, just change to the DELI_ROOT
directory and type ant at the command line. This takes the file
<I>build.xml</I> which builds the WAR file. Then to redeploy DELI you
need to stop your Servlet engine, delete the <I>ccpp</I> directory in
the <I>webapps</I> directory then copy the new <I>ccpp.war</I> file
to the webapps directory. Now restart the Servlet engine.</FONT></FONT></P>
<H1>4 Workspaces</H1>
<P CLASS="msobodytext2" STYLE="margin-bottom: 0.5cm"><FONT FACE="Times New Roman, serif"><FONT SIZE=3>DELI
uses the concept of a workspace configured to interpret profiles that
use certain vocabularies, a set of certain resolution rules and
requests that use a certain variant of HTTP. In addition the
workspace contains a cache of referenced profiles, information about
the vocabularies in use and the legacy device database. A workspace
is configured using a configuration file such as
<I>DELI_ROOT\config\deliConfig.n3</I>. The file is written in N3:</FONT></FONT></P>
<P CLASS="msobodytext3"><FONT FACE="Courier New, monospace"><FONT SIZE=2>@prefix
deli: &lt;http://delicon.sourceforge.net/schema#&gt; . </FONT></FONT>
</P>
<P CLASS="msobodytext3"><FONT FACE="Courier New, monospace"><FONT SIZE=2>@prefix
rdf:     &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt; . </FONT></FONT>
</P>
<P CLASS="msobodytext3"><FONT FACE="Courier New, monospace"><FONT SIZE=2>@prefix
rdfs:    &lt;http://www.w3.org/2000/01/rdf-schema#&gt; . </FONT></FONT>
</P>
<P CLASS="msobodytext3"><BR>
</P>
<P CLASS="msobodytext3"><FONT FACE="Courier New, monospace"><FONT SIZE=2>_:config
</FONT></FONT>
</P>
<P CLASS="msobodytext3"><FONT FACE="Courier New, monospace"><FONT SIZE=2>	deli:localProfilesFile
&quot;config/profiles.n3&quot; ; </FONT></FONT>
</P>
<P CLASS="msobodytext3"><FONT FACE="Courier New, monospace"><FONT SIZE=2>	deli:localProfilesPath
&quot;profiles&quot; ; </FONT></FONT>
</P>
<P CLASS="msobodytext3"><FONT FACE="Courier New, monospace"><FONT SIZE=2>	deli:debug
&quot;true&quot; ; </FONT></FONT>
</P>
<P CLASS="msobodytext3"> <FONT FACE="Courier New, monospace"><FONT SIZE=2>	deli:printDefaults
&quot;true&quot; ; </FONT></FONT>
</P>
<P CLASS="msobodytext3"> <FONT FACE="Courier New, monospace"><FONT SIZE=2>	deli:printProfileBeforeMerge
&quot;false&quot; ; </FONT></FONT>
</P>
<P CLASS="msobodytext3"> <FONT FACE="Courier New, monospace"><FONT SIZE=2>	deli:processUndefinedAttributes
&quot;true&quot; ; </FONT></FONT>
</P>
<P CLASS="msobodytext3"> <FONT FACE="Courier New, monospace"><FONT SIZE=2>	deli:namespaceConfigFile
&quot;config/namespaceConfig.n3&quot; .</FONT></FONT></P>
<P CLASS="msobodytext3"><BR>
</P>
<P CLASS="msobodytext3">This file can contain caching, debugging,
legacy device, protocol and vocabulary configuration directives as
detailed in the subsequent sections.</P>
<H2>4.1 Caching options</H2>
<P CLASS="msobodytext2" STYLE="margin-bottom: 0.5cm">The caching
options control the way the workspace caches referenced profiles.
DELI caches referenced profiles but not profile-diffs. This is
because referenced profiles are associated with a unique identifier
(the referenced profile URL) but profile-diffs are not. DELI can
either cache profiles indefinitely or update stale profiles after a
set interval. It is also possible to configure the maximum size of
the profile cache.</P>
<TABLE WIDTH=559 BORDER=1 CELLPADDING=2 CELLSPACING=0>
	<COL WIDTH=195>
	<COL WIDTH=139>
	<COL WIDTH=211>
	<TR VALIGN=TOP>
		<TD WIDTH=195>
			<P CLASS="msobodytext2" ALIGN=CENTER STYLE="border: 1.00pt solid #000000; padding: 0.05cm">
			<B>Element Name</B></P>
		</TD>
		<TD WIDTH=139>
			<P CLASS="msobodytext2" ALIGN=CENTER STYLE="border: 1.00pt solid #000000; padding: 0.05cm">
			<B>Default Value</B></P>
		</TD>
		<TD WIDTH=211>
			<P CLASS="msobodytext2" ALIGN=CENTER STYLE="border: 1.00pt solid #000000; padding: 0.05cm">
			<B>Description</B></P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=195>
			<P CLASS="msobodytext3" STYLE="border: 1.00pt solid #000000; padding: 0.05cm">
			maxCachedProfileLifetime</P>
		</TD>
		<TD WIDTH=139>
			<P CLASS="msobodytext3" STYLE="border-top: none; border-bottom: 1.00pt solid #000000; border-left: none; border-right: none; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0cm; padding-right: 0cm">
			24 hours</P>
		</TD>
		<TD WIDTH=211>
			<P CLASS="msobodytext2" STYLE="border-top: none; border-bottom: 1.00pt solid #000000; border-left: none; border-right: none; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0cm; padding-right: 0cm">
			The maximum lifetime of a cached profile in hours.</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=195>
			<P CLASS="msobodytext3" STYLE="border: 1.00pt solid #000000; padding: 0.05cm">
			maxCacheSize</P>
		</TD>
		<TD WIDTH=139>
			<P CLASS="msobodytext3" STYLE="border-top: none; border-bottom: 1.00pt solid #000000; border-left: none; border-right: none; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0cm; padding-right: 0cm">
			100</P>
		</TD>
		<TD WIDTH=211>
			<P CLASS="msobodytext2" STYLE="border-top: none; border-bottom: 1.00pt solid #000000; border-left: none; border-right: none; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0cm; padding-right: 0cm">
			The maximum number of profiles in the profile cache.</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=195>
			<P CLASS="msobodytext3" STYLE="border: 1.00pt solid #000000; padding: 0.05cm">
			refreshStaleProfiles</P>
		</TD>
		<TD WIDTH=139>
			<P CLASS="msobodytext3" STYLE="border-top: none; border-bottom: 1.00pt solid #000000; border-left: none; border-right: none; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0cm; padding-right: 0cm">
			false</P>
		</TD>
		<TD WIDTH=211>
			<P CLASS="msobodytext2" STYLE="border-top: none; border-bottom: 1.00pt solid #000000; border-left: none; border-right: none; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0cm; padding-right: 0cm">
			Do we refresh cached profiles after the maximum lifetime has
			expired?</P>
		</TD>
	</TR>
</TABLE>
<H2>4.2 Debugging options</H2>
<P CLASS="msobodytext2" STYLE="margin-bottom: 0.5cm">The debugging
options are used to control the information that DELI prints to the
Servlet engine console.</P>
<TABLE WIDTH=559 BORDER=1 CELLPADDING=2 CELLSPACING=0>
	<COL WIDTH=195>
	<COL WIDTH=139>
	<COL WIDTH=211>
	<TR VALIGN=TOP>
		<TD WIDTH=195>
			<P CLASS="msobodytext2" ALIGN=CENTER STYLE="border: 1.00pt solid #000000; padding: 0.05cm">
			<B>Element Name</B></P>
		</TD>
		<TD WIDTH=139>
			<P CLASS="msobodytext2" ALIGN=CENTER STYLE="border: 1.00pt solid #000000; padding: 0.05cm">
			<B>Default Value</B></P>
		</TD>
		<TD WIDTH=211>
			<P CLASS="msobodytext2" ALIGN=CENTER STYLE="border: 1.00pt solid #000000; padding: 0.05cm">
			<B>Description</B></P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=195>
			<P CLASS="msobodytext3" STYLE="border: 1.00pt solid #000000; padding: 0.05cm">
			debug</P>
		</TD>
		<TD WIDTH=139>
			<P CLASS="msobodytext3" STYLE="border-top: none; border-bottom: 1.00pt solid #000000; border-left: none; border-right: none; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0cm; padding-right: 0cm">
			true</P>
		</TD>
		<TD WIDTH=211>
			<P CLASS="msobodytext2" STYLE="border-top: none; border-bottom: 1.00pt solid #000000; border-left: none; border-right: none; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0cm; padding-right: 0cm">
			Is the automatic debug log information turned on?</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=195>
			<P CLASS="msobodytext3" STYLE="border: 1.00pt solid #000000; padding: 0.05cm">
			printDefaults</P>
		</TD>
		<TD WIDTH=139>
			<P CLASS="msobodytext3" STYLE="border-top: none; border-bottom: 1.00pt solid #000000; border-left: none; border-right: none; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0cm; padding-right: 0cm">
			true</P>
		</TD>
		<TD WIDTH=211>
			<P CLASS="msobodytext2" STYLE="border-top: none; border-bottom: 1.00pt solid #000000; border-left: none; border-right: none; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0cm; padding-right: 0cm">
			Print both default and override values of attributes for debugging
			purposes?</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=195>
			<P CLASS="msobodytext3" STYLE="border: 1.00pt solid #000000; padding: 0.05cm">
			printProfileBeforeMerge</P>
		</TD>
		<TD WIDTH=139>
			<P CLASS="msobodytext3" STYLE="border-top: none; border-bottom: 1.00pt solid #000000; border-left: none; border-right: none; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0cm; padding-right: 0cm">
			false</P>
		</TD>
		<TD WIDTH=211>
			<P CLASS="msobodytext2" STYLE="border-top: none; border-bottom: 1.00pt solid #000000; border-left: none; border-right: none; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0cm; padding-right: 0cm">
			Print the profile before merging for debugging purposes?</P>
		</TD>
	</TR>
</TABLE>
<H2>4.3 Legacy device options</H2>
<P CLASS="msobodytext2" STYLE="margin-bottom: 0.5cm">As already
mentioned DELI can support legacy devices by recognising the
user-agent string supplied by a client and mapping it on to a
profile. In order to use this facility it is necessary to supply an
XML file that contains information about legacy device user-agent
strings and the corresponding profile URLs.</P>
<TABLE WIDTH=559 BORDER=1 CELLPADDING=2 CELLSPACING=0>
	<COL WIDTH=159>
	<COL WIDTH=187>
	<COL WIDTH=199>
	<TR VALIGN=TOP>
		<TD WIDTH=159>
			<P CLASS="msobodytext2" ALIGN=CENTER STYLE="border: 1.00pt solid #000000; padding: 0.05cm">
			<B>Element Name</B></P>
		</TD>
		<TD WIDTH=187>
			<P CLASS="msobodytext2" ALIGN=CENTER STYLE="border: 1.00pt solid #000000; padding: 0.05cm">
			<B>Default Value</B></P>
		</TD>
		<TD WIDTH=199>
			<P CLASS="msobodytext2" ALIGN=CENTER STYLE="border: 1.00pt solid #000000; padding: 0.05cm">
			<B>Description</B></P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=159>
			<P CLASS="msobodytext3" STYLE="border: 1.00pt solid #000000; padding: 0.05cm">
			supportLegacyDevices</P>
		</TD>
		<TD WIDTH=187>
			<P CLASS="msobodytext3" STYLE="border-top: none; border-bottom: 1.00pt solid #000000; border-left: none; border-right: none; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0cm; padding-right: 0cm">
			true</P>
		</TD>
		<TD WIDTH=199>
			<P CLASS="msobodytext2" STYLE="border-top: none; border-bottom: 1.00pt solid #000000; border-left: none; border-right: none; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0cm; padding-right: 0cm">
			Is the legacy device database turned on?</P>
		</TD>
	</TR>
</TABLE>
<H2>4.4 Protocol options</H2>
<P CLASS="msobodytext2" STYLE="margin-bottom: 0.5cm">DELI has a
number of protocol options. First, it is possible to switch on
whitespace normalisation in profile-diffs prior to calculating the
profile-diff-digest in order to accommodate a modification to the
UAProf protocol that has been proposed by IBM. When a server receives
the request, it recalculates the profile-diff-digest. If additional
whitespaces have been added to the request header by a proxy then
there is a danger the two profile-diff digests will differ so the
profile-diff will be rejected. Therefore IBM have proposed the
following normalisation procedure prior to profile-diff digest
calculation: all leading and trailing white spaces are eliminated
(white space as defined in RFC 2616 section 2.2). Then all
non-trailing or non-leading linear white space contained in the
profile description, including line folding of multiple HTTP header
lines, is replaced with one single space (SP) character. This implies
that property values, represented as XML attributes or XML element
character data, MUST be adhering to white space compression as
mandated in RFC 2616 section 2.2.</P>
<TABLE WIDTH=559 BORDER=1 CELLPADDING=2 CELLSPACING=0>
	<COL WIDTH=222>
	<COL WIDTH=128>
	<COL WIDTH=195>
	<TR VALIGN=TOP>
		<TD WIDTH=222>
			<P CLASS="msobodytext2" ALIGN=CENTER STYLE="border: 1.00pt solid #000000; padding: 0.05cm">
			<B>Element Name</B></P>
		</TD>
		<TD WIDTH=128>
			<P CLASS="msobodytext2" ALIGN=CENTER STYLE="border: 1.00pt solid #000000; padding: 0.05cm">
			<B>Default Value</B></P>
		</TD>
		<TD WIDTH=195>
			<P CLASS="msobodytext2" ALIGN=CENTER STYLE="border: 1.00pt solid #000000; padding: 0.05cm">
			<B>Description</B></P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=222>
			<P CLASS="msobodytext3" STYLE="border: 1.00pt solid #000000; padding: 0.05cm">
			normaliseWhitespaceInProfileDiff</P>
		</TD>
		<TD WIDTH=128>
			<P CLASS="msobodytext3" STYLE="border-top: none; border-bottom: 1.00pt solid #000000; border-left: none; border-right: none; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0cm; padding-right: 0cm">
			true</P>
		</TD>
		<TD WIDTH=195>
			<P CLASS="msobodytext2" STYLE="border-top: none; border-bottom: 1.00pt solid #000000; border-left: none; border-right: none; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0cm; padding-right: 0cm">
			Is whitespace normalisation of the profile-diff prior to
			calculating the profile-diff-digest turned on?</P>
		</TD>
	</TR>
</TABLE>
<H2>4.5 Vocabulary options</H2>
<P CLASS="msobodytext2" STYLE="margin-bottom: 0.5cm"><FONT SIZE=3>DELI
has a number of vocabulary options. First, it is possible to
configure the vocabularies using an N3 file (by default
<FONT FACE="Times New Roman, serif"><I>namespaceConfig.n3</I></FONT>).
This file contains information about specific CC/PP vocabulary
configuration i.e. references to vocabulary namespace URIs and their
associated XML or RDF schema file containing the attribute names, the
components they belong to, the collection type, the attribute type
and the resolution rule used by a specific vocabulary.</FONT></P>
<P CLASS="msobodytext2" STYLE="margin-bottom: 0.5cm"><FONT SIZE=3>Second,
it is possible to specify the URI to be used for the RDF namespace
and the CC/PP or UAProf namespace. This is important because as the
specifications are revised they adopt new namespaces. Thirdly it is
possible to set the string used to represent components in the
vocabulary.</FONT></P>
<TABLE WIDTH=559 BORDER=1 CELLPADDING=2 CELLSPACING=0>
	<COL WIDTH=193>
	<COL WIDTH=145>
	<COL WIDTH=207>
	<TR VALIGN=TOP>
		<TD WIDTH=193>
			<P CLASS="msobodytext2" ALIGN=CENTER STYLE="border: 1.00pt solid #000000; padding: 0.05cm">
			<B>Element Name</B></P>
		</TD>
		<TD WIDTH=145>
			<P CLASS="msobodytext2" ALIGN=CENTER STYLE="border: 1.00pt solid #000000; padding: 0.05cm">
			<B>Default Value</B></P>
		</TD>
		<TD WIDTH=207>
			<P CLASS="msobodytext2" ALIGN=CENTER STYLE="border: 1.00pt solid #000000; padding: 0.05cm">
			<B>Description</B></P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=193>
			<P CLASS="msobodytext3" STYLE="border: 1.00pt solid #000000; padding: 0.05cm">
			namespaceConfigFile</P>
		</TD>
		<TD WIDTH=145>
			<P CLASS="msobodytext3" STYLE="border-top: none; border-bottom: 1.00pt solid #000000; border-left: none; border-right: none; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0cm; padding-right: 0cm">
			config/namespaceConfig.n3</P>
		</TD>
		<TD WIDTH=207>
			<P CLASS="msobodytext2" STYLE="border-top: none; border-bottom: 1.00pt solid #000000; border-left: none; border-right: none; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0cm; padding-right: 0cm">
			The file containing the mapping of vocabulary namespace URIs to
			RDF/XML schema vocabulary specifications.</P>
		</TD>
	</TR>
</TABLE>
<P CLASS="msobodytext2" STYLE="margin-bottom: 0.5cm">&nbsp;</P>
<P CLASS="msobodytext2" STYLE="margin-bottom: 0.5cm"><FONT FACE="Times New Roman, serif"><FONT SIZE=3>The
<I>namespaceConfigFile</I> referenced by <I>deliConfig.n3</I> above
takes the following format:</FONT></FONT></P>
<P CLASS="msobodytext3"><FONT FACE="Courier New, monospace"><FONT SIZE=2>@prefix
deli: &lt;http://delicon.sourceforge.net/schema#&gt; . </FONT></FONT>
</P>
<P CLASS="msobodytext3"><FONT FACE="Courier New, monospace"><FONT SIZE=2>@prefix
rdf:     &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt; . </FONT></FONT>
</P>
<P CLASS="msobodytext3"><FONT FACE="Courier New, monospace"><FONT SIZE=2>@prefix
rdfs:    &lt;http://www.w3.org/2000/01/rdf-schema&gt; . </FONT></FONT>
</P>
<P CLASS="msobodytext3">  
</P>
<P CLASS="msobodytext3"><FONT FACE="Courier New, monospace"><FONT SIZE=2>_:n1
</FONT></FONT>
</P>
<P CLASS="msobodytext3">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>rdf:type
deli:NamespaceDefinition ; </FONT></FONT>
</P>
<P CLASS="msobodytext3">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>deli:uri
&lt;http://www.wapforum.org/profiles/UAPROF/ccppschema-20010430#&gt;
; </FONT></FONT>
</P>
<P CLASS="msobodytext3">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>deli:aliasUri
&lt;http://www.wapforum.org/profiles/UAPROF/ccppschema-20010430#&gt;
; </FONT></FONT>
</P>
<P CLASS="msobodytext3">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>deli:schemaVocabularyFile
&quot;config/vocab/ccppschema-20010430.rdfs&quot; . </FONT></FONT>
</P>
<P CLASS="msobodytext3">    
</P>
<P CLASS="msobodytext3"><FONT FACE="Courier New, monospace"><FONT SIZE=2>_:n2</FONT></FONT></P>
<P CLASS="msobodytext3">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>rdf:type
deli:NamespaceDefinition ; </FONT></FONT>
</P>
<P CLASS="msobodytext3">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>deli:uri
&lt;http://www.openmobilealliance.org/tech/profiles/MMS/ccppschema-20050301-MMS1.2#&gt;
; </FONT></FONT>
</P>
<P CLASS="msobodytext3">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>deli:schemaVocabularyFile
&quot;config/vocab/ccppschema-20050301-MMS1.2.rdfs&quot; .</FONT></FONT></P>
<P CLASS="msobodytext3"><BR>
</P>
<P CLASS="msobodytext3"><FONT FACE="Times New Roman, serif"><FONT SIZE=3>Each
namespace defines a specific vocabulary definition and associates it
with a URI specified by <I>uri</I>. Due to the misuse of namespaces,
a regular problem is the use of multiple namespace URIs to refer to
the same vocabulary. To overcome this an <I>aliasUri</I> property has
been introduced for specifying alternative URIs that should also map
to this vocabulary definition. A <I>schemaVocabularyFile</I>, the
file containing the vocabulary specification as an UAProf RDF Schema,
must also be specified.</FONT></FONT></P>
<H1>5 Creating a DELI servlet</H1>
<P CLASS="msobodytext2" STYLE="margin-bottom: 0.5cm">In order to
understand how to construct servlets with DELI, the reader is
encouraged to examine the example servlet in the DELI distribution:</P>
<P CLASS="msobodytext2" STYLE="margin-bottom: 0.5cm"><FONT FACE="Courier New"><FONT SIZE=2 STYLE="font-size: 9pt">DELI_ROOT\src\com\hp\hpl\deliTest\TestCCPPServlet.java</FONT></FONT></P>
<P CLASS="msobodytext2" STYLE="margin-bottom: 0.5cm">In order to
create a Java servlet that uses the DELI library it is necessary to
include the DELI package, e.g.</P>
<P CLASS="msobodytext3" STYLE="margin-bottom: 0.5cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2>import
com.hp.hpl.deli.*;</FONT></FONT></P>
<P CLASS="msobodytext2" STYLE="margin-bottom: 0.5cm">and to include a
servletContext as a class data member e.g.</P>
<P CLASS="msobodytext3" STYLE="margin-bottom: 0.5cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2>ServletContext
servletContext;</FONT></FONT></P>
<P CLASS="msobodytext2" STYLE="margin-bottom: 0.5cm">Then when the
servlet is initialized query the servletContext to determine the path
to the servlet and use this information to create the workspace e.g.</P>
<P CLASS="msobodytext3"><FONT FACE="Courier New, monospace"><FONT SIZE=2>public
void init(ServletConfig config) throws ServletException</FONT></FONT></P>
<P CLASS="msobodytext3"><FONT FACE="Courier New, monospace"><FONT SIZE=2>{</FONT></FONT></P>
<P CLASS="msobodytext3">&nbsp;<FONT FACE="Courier New, monospace"><FONT SIZE=2>super.init(config);</FONT></FONT></P>
<P CLASS="msobodytext3">&nbsp;</P>
<P CLASS="msobodytext3">&nbsp;<FONT FACE="Courier New, monospace"><FONT SIZE=2>try</FONT></FONT></P>
<P CLASS="msobodytext3">&nbsp;<FONT FACE="Courier New, monospace"><FONT SIZE=2>{</FONT></FONT></P>
<P CLASS="msobodytext3">&nbsp;</P>
<P CLASS="msobodytext3">&nbsp; <FONT FACE="Courier New, monospace"><FONT SIZE=2>servletContext
= config.getServletContext();</FONT></FONT></P>
<P CLASS="msobodytext3">&nbsp;
<FONT FACE="Courier New, monospace"><FONT SIZE=2>Workspace.getInstance().configure(servletContext,&quot;config/deliConfig.xml&quot;);</FONT></FONT></P>
<P CLASS="msobodytext3">&nbsp;</P>
<P CLASS="msobodytext3">&nbsp;<FONT FACE="Courier New, monospace"><FONT SIZE=2>}
catch (Exception e) {</FONT></FONT></P>
<P CLASS="msobodytext3">&nbsp;</P>
<P CLASS="msobodytext3">&nbsp; <FONT FACE="Courier New, monospace"><FONT SIZE=2>try</FONT></FONT></P>
<P CLASS="msobodytext3">&nbsp; <FONT FACE="Courier New, monospace"><FONT SIZE=2>{</FONT></FONT></P>
<P CLASS="msobodytext3" STYLE="margin-left: 1.27cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2>Workspace.getInstance().configure((ServletContext)
null,&nbsp; &quot;config/deliConfig.xml&quot;);</FONT></FONT></P>
<P CLASS="msobodytext3">&nbsp; <FONT FACE="Courier New, monospace"><FONT SIZE=2>}
catch (Exception f) {</FONT></FONT></P>
<P CLASS="msobodytext3">&nbsp;&nbsp;
<FONT FACE="Courier New, monospace"><FONT SIZE=2>System.out.println(f.toString());</FONT></FONT></P>
<P CLASS="msobodytext3">&nbsp; <FONT FACE="Courier New, monospace"><FONT SIZE=2>}</FONT></FONT></P>
<P CLASS="msobodytext3">&nbsp;</P>
<P CLASS="msobodytext3">&nbsp;<FONT FACE="Courier New, monospace"><FONT SIZE=2>}</FONT></FONT></P>
<P CLASS="msobodytext3">&nbsp;</P>
<P CLASS="msobodytext3"><FONT FACE="Courier New, monospace"><FONT SIZE=2>}</FONT></FONT></P>
<P CLASS="msobodytext2" STYLE="margin-bottom: 0.5cm">Once the
workspace is initialised (note that the Workspace class is a
Singleton, and should not be directly instantiated, but rather
accessed by use of the static method getInstance()), profile
resolution is achieved by creating a new profile using a
<FONT FACE="Courier New"><FONT SIZE=2 STYLE="font-size: 9pt">HttpServletRequest</FONT></FONT>
e.g.</P>
<P CLASS="msobodytext3"><FONT FACE="Courier New, monospace"><FONT SIZE=2>public
void doGet(HttpServletRequest req, HttpServletResponse res) throws
ServletException, IOException</FONT></FONT></P>
<P CLASS="msobodytext3"><FONT FACE="Courier New, monospace"><FONT SIZE=2>{</FONT></FONT></P>
<P CLASS="msobodytext3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <FONT FACE="Courier New, monospace"><FONT SIZE=2>Profile
myProfile = new Profile(req);</FONT></FONT></P>
<P CLASS="msobodytext3"><BR>
</P>
<P CLASS="msobodytext2"><FONT FACE="Times New Roman, serif"><FONT SIZE=3>Then
the addWarningHeader() can be used to add an x-wap-profile-warning to
the response header e.g.</FONT></FONT></P>
<P CLASS="msobodytext3">&nbsp;</P>
<P CLASS="msobodytext3"><FONT FACE="Courier New, monospace"><FONT SIZE=2>res
= UAProfCreateHttpResponse.addWarningHeader(res,
UAProfCreateHttpResponse.CONTENT_GENERATION_APPLIED);</FONT></FONT></P>
<P CLASS="msobodytext3"><FONT FACE="Courier New, monospace"><FONT SIZE=2>}</FONT></FONT></P>
<P CLASS="msobodytext2" STYLE="margin-bottom: 0.5cm">The profile can
be manipulated by using the standard Vector methods which will
retrieve profile attributes e.g.</P>
<P CLASS="msobodytext3"><FONT FACE="Courier New, monospace"><FONT SIZE=2>for
(int i = 0; i &lt; myProfile.size(); i++)</FONT></FONT></P>
<P CLASS="msobodytext3"><FONT FACE="Courier New, monospace"><FONT SIZE=2>{</FONT></FONT></P>
<P CLASS="msobodytext3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<FONT FACE="Courier New, monospace"><FONT SIZE=2>ProfileAttribute p =
(ProfileAttribute)myProfile.get(i);</FONT></FONT></P>
<P CLASS="msobodytext3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<FONT FACE="Courier New, monospace"><FONT SIZE=2>out.println(&quot;&lt;TD&gt;&quot;+p.get()+&quot;&lt;/TD&gt;&quot;);</FONT></FONT></P>
<P CLASS="msobodytext3"><FONT FACE="Courier New, monospace"><FONT SIZE=2>}</FONT></FONT></P>
<P CLASS="msobodytext2" STYLE="margin-bottom: 0.5cm">Or by directly
retrieving a profile attribute e.g.</P>
<P CLASS="msobodytext3" STYLE="margin-bottom: 0.5cm"><FONT FACE="Courier New, monospace"><FONT SIZE=2>System.out.println(myProfile.getAttribute(&quot;BrowserName&quot;).toString());</FONT></FONT></P>
<P CLASS="msobodytext2" STYLE="margin-bottom: 0.5cm"><FONT FACE="Times New Roman, serif"><FONT SIZE=3>In
addition it is possible to query profile attributes using the <I>get()</I>,
<I>getAttribute()</I>, <I>getCollectionType()</I>, <I>getComponent()</I>,
<I>getDefaultValue()</I>, <I>getResolution()</I>, <I>getType()</I>
and <I>getValue()</I> methods. Full details of the DELI API are
contained in the Javadoc in the <I>DELI_ROOT\javadoc\user</I>
directory which describes the classes and methods exported by the
DELI package.</FONT></FONT></P>
<H1>7 Conclusions</H1>
<P CLASS="msobodytext2" STYLE="margin-bottom: 0.5cm">So in conclusion
this report has described DELI, an open-source server implementation
of profile resolution for CC/PP. DELI is currently alpha grade
software provided to demonstrate how CC/PP may be implemented. It is
designed to be easily extensible and configurable so it may be used
as a test-bed for prototyping future developments with these
specifications. DELI will be further developed to ensure
compatibility with these standards.</P>
<HR WIDTH=224 ALIGN=LEFT SIZE=1>
<DIV ID="edn1" DIR="LTR">
	<P CLASS="msoendnotetext" STYLE="margin-bottom: 0.5cm"><A HREF="#_ednref1" NAME="_edn1">[1]</A>
	Resource Description Framework, <A HREF="http://www.w3.org/RDF/">http://www.w3.org/RDF/</A></P>
</DIV>
<DIV ID="edn2" DIR="LTR">
	<P CLASS="msoendnotetext" STYLE="margin-bottom: 0.5cm"><A HREF="#_ednref2" NAME="_edn2">[2]</A>
	Composite Capabilities / Preferences Profile,
	<A HREF="http://www.w3.org/Mobile/CCPP/">http://www.w3.org/Mobile/CCPP/</A></P>
</DIV>
<DIV ID="edn3" DIR="LTR">
	<P CLASS="msoendnotetext" STYLE="margin-bottom: 0.5cm"><A HREF="#_ednref3" NAME="_edn3">[3]</A>
	Open Mobile Alliance, <A HREF="http://www.openmobilealliance.org/">http://www.openmobilealliance.org/</A></P>
</DIV>
<DIV ID="edn4" DIR="LTR">
	<P CLASS="msoendnotetext" STYLE="margin-bottom: 0.5cm"><A HREF="#_ednref4" NAME="_edn4">[4]</A>
	DELI web-site, <A HREF="http://delicon.sourceforge.net/">http://delicon.sourceforge.net/</A></P>
</DIV>
<DIV ID="edn5" DIR="LTR">
	<P CLASS="msoendnotetext" STYLE="margin-bottom: 0.5cm"><A HREF="#_ednref5" NAME="_edn5">[5]</A>
	RDF Model and Syntax Specification,
	<A HREF="http://www.w3.org/TR/REC-rdf-syntax/">http://www.w3.org/TR/REC-rdf-syntax/</A></P>
</DIV>
<DIV ID="edn6" DIR="LTR">
	<P CLASS="msoendnotetext" STYLE="margin-bottom: 0.5cm"><A HREF="#_ednref6" NAME="_edn6">[6]</A>
	RDF Schema Specification 1.0, <A HREF="http://www.w3.org/TR/rdf-schema/">http://www.w3.org/TR/rdf-schema/</A></P>
</DIV>
<DIV ID="edn7" DIR="LTR">
	<P CLASS="msoendnotetext" STYLE="margin-bottom: 0.5cm"><A HREF="#_ednref7" NAME="_edn7">[7]</A>
	W3C RDF Validation service, <A HREF="http://www.w3.org/RDF/Validator/">http://www.w3.org/RDF/Validator/</A></P>
</DIV>
<DIV ID="edn8" DIR="LTR">
	<P CLASS="msoendnotetext" STYLE="margin-bottom: 0.5cm"><A HREF="#_ednref8" NAME="_edn8">[8]</A>
	Jena RDF Framework, <A HREF="http://www.hpl.hp.com/semweb/jena-top.html">http://www.hpl.hp.com/semweb/jena-top.html</A></P>
</DIV>
<DIV ID="edn9" DIR="LTR">
	<P CLASS="msoendnotetext" STYLE="margin-bottom: 0.5cm"><A HREF="#_ednref9" NAME="_edn9">[9]</A>
	Jena: Implementing the RDF Model and syntax specification,
	<A HREF="http://www-uk.hpl.hp.com/people/bwm/papers/20001221-paper/">http://www-uk.hpl.hp.com/people/bwm/papers/20001221-paper/</A></P>
</DIV>
<DIV ID="edn10" DIR="LTR">
	<P CLASS="msoendnotetext" STYLE="margin-bottom: 0.5cm"><A HREF="#_ednref10" NAME="_edn10">[10]</A>
	HP Labs Semantic Web Activity, <A HREF="http://www.hpl.hp.com/semweb/">http://www.hpl.hp.com/semweb/</A></P>
</DIV>
<DIV ID="edn11" DIR="LTR">
	<P CLASS="msoendnotetext" STYLE="margin-bottom: 0.5cm"><A HREF="#_ednref11" NAME="_edn11">[11]</A>
	CC/PP: Structure and Vocabularies,
	<A HREF="http://www.w3.org/TR/CCPP-struct-vocab/">http://www.w3.org/TR/CCPP-struct-vocab/</A></P>
</DIV>
<DIV ID="edn12" DIR="LTR">
	<P CLASS="msoendnotetext" STYLE="margin-bottom: 0.5cm"><A HREF="#_ednref12" NAME="_edn12">[12]</A>
	CC/PP: Requirements and Architecture, <A HREF="http://www.w3.org/TR/CCPP-ra/">http://www.w3.org/TR/CCPP-ra/</A></P>
</DIV>
<DIV ID="edn13" DIR="LTR">
	<P CLASS="msoendnotetext" STYLE="margin-bottom: 0.5cm"><A HREF="#_ednref13" NAME="_edn13">[13]</A>
	CC/PP: Terminology and Abbreviations, <A HREF="http://www.w3.org/TR/CCPP-ta/">http://www.w3.org/TR/CCPP-ta/</A></P>
</DIV>
<DIV ID="edn14" DIR="LTR">
	<P CLASS="msoendnotetext" STYLE="margin-bottom: 0.5cm"><A HREF="#_ednref14" NAME="_edn14">[14]</A>
	CC/PP exchange protocol using HTTP Extension Framework,
	<A HREF="http://www.w3.org/TR/NOTE-CCPPexchange">http://www.w3.org/TR/NOTE-CCPPexchange</A></P>
</DIV>
<DIV ID="edn15" DIR="LTR">
	<P CLASS="msoendnotetext" STYLE="margin-bottom: 0.5cm"><A HREF="#_ednref15" NAME="_edn15">[15]</A>
	Content Negotiation Header in HTTP Scenarios,
	<A HREF="http://search.ietf.org/internet-drafts/drafts-hjelm-http-cnhttp-scenarios-00.txt">http://search.ietf.org/internet-drafts/drafts-hjelm-http-cnhttp-scenarios-00.txt</A></P>
</DIV>
<DIV ID="edn16" DIR="LTR">
	<P CLASS="msoendnotetext" STYLE="margin-bottom: 0.5cm"><A HREF="#_ednref16" NAME="_edn16">[16]</A>
	WAG UAProf proposed version 30 May 2001, WAP-248-UAPROF-20010530-p,
	<A HREF="http://www1.wapforum.org/tech/terms.asp?doc=WAP-248-UAProf-20010530-p.pdf">http://www1.wapforum.org/tech/terms.asp?doc=WAP-248-UAProf-20010530-p.pdf</A></P>
</DIV>
<DIV ID="edn17" DIR="LTR">
	<P CLASS="msoendnotetext" STYLE="margin-bottom: 0.5cm"><A HREF="#_ednref17" NAME="_edn17">[17]</A>
	UAProf Schema,
	<A HREF="http://www.wapforum.org/profiles/UAPROF/ccppschema-20010330">http://www.wapforum.org/profiles/UAPROF/ccppschema-20010330</A></P>
</DIV>
<DIV ID="edn18" DIR="LTR">
	<P CLASS="msoendnotetext" STYLE="margin-bottom: 0.5cm"><A HREF="#_ednref18" NAME="_edn18">[18]</A>
	RFC1321: The MD5 Message-Digest Algorithm,
	<A HREF="http://www.faqs.org/rfcs/rfc1321.html">http://www.faqs.org/rfcs/rfc1321.html</A></P>
</DIV>
<DIV ID="edn19" DIR="LTR">
	<P CLASS="msoendnotetext" STYLE="margin-bottom: 0.5cm"><A HREF="#_ednref19" NAME="_edn19">[19]</A>
	Section 13.6 and section 14.4 in RFC2045: Multipurpose Internet Mail
	Extensions, <A HREF="http://www.faqs.org/rfcs/rfc2045.html">http://www.faqs.org/rfcs/rfc2045.html</A></P>
</DIV>
<DIV ID="edn20" DIR="LTR">
	<P CLASS="msoendnotetext" STYLE="margin-bottom: 0.5cm"><A HREF="#_ednref20" NAME="_edn20">[20]</A>
	RFC 2616: Hypertext Transfer Protocol 1.1
	<A HREF="http://www.w3.org/Protocols/rfc2616/rfc2616.html">http://www.w3.org/Protocols/rfc2616/rfc2616.html</A></P>
</DIV>
<DIV ID="edn21" DIR="LTR">
	<P CLASS="msoendnotetext" STYLE="margin-bottom: 0.5cm"><A HREF="#_ednref21" NAME="_edn21">[21]</A>
	HPL-2001-83: Current Techniques for Device Independence,
	<A HREF="http://www.hpl.hp.com/techreports/2001/HPL-2001-83.html">http://www.hpl.hp.com/techreports/2001/HPL-2001-83.html</A></P>
</DIV>
<DIV ID="edn22" DIR="LTR">
	<P CLASS="msoendnotetext" STYLE="margin-bottom: 0.5cm"><A HREF="#_ednref22" NAME="_edn22">[22]</A>
	HPL-2001-190: Implementing Content Negotiation with CC/PP and
	UAProf,</P>
	<P CLASS="msoendnotetext" STYLE="margin-bottom: 0.5cm"><A HREF="http://www.hpl.hp.com/techreports/2001/HPL-2001-190.html">http://www.hpl.hp.com/techreports/2001/HPL-2001-190.html</A></P>
</DIV>
<DIV ID="edn23" DIR="LTR">
	<P CLASS="msoendnotetext" STYLE="margin-bottom: 0.5cm"><A HREF="#_ednref23" NAME="_edn23">[23]</A>
	Apache Cocoon, <A HREF="http://xml.apache.com/cocoon">http://xml.apache.org/cocoon</A></P>
</DIV>
<DIV ID="edn24" DIR="LTR">
	<P CLASS="msoendnotetext" STYLE="margin-bottom: 0.5cm"><A HREF="#_ednref24" NAME="_edn24">[24]</A>
	Apache Jetspeed, <A HREF="http://jakarta.apache.org/jetspeed/site/index.html">http://jakarta.apache.org/jetspeed/site/index.html</A></P>
</DIV>
<DIV ID="edn25" DIR="LTR">
	<P CLASS="msoendnotetext" STYLE="margin-bottom: 0.5cm"><A HREF="#_ednref25" NAME="_edn25">[25]</A>
	Apache Struts, <A HREF="http://jakarta.apache.org/struts/index.html">http://jakarta.apache.org/struts/index.html</A></P>
</DIV>
<DIV ID="edn26" DIR="LTR">
	<P CLASS="msoendnotetext" STYLE="margin-bottom: 0.5cm"><A HREF="#_ednref26" NAME="_edn26">[26]</A>
	Apache Tomcat, <A HREF="http://jakarta.apache.org/tomcat/index.html">http://jakarta.apache.org/tomcat/index.html</A></P>
</DIV>
<DIV ID="edn27" DIR="LTR">
	<P CLASS="msoendnotetext" STYLE="margin-bottom: 0.5cm"><A HREF="#_ednref27" NAME="_edn27">[27]</A>
	Mortbay Jetty, <A HREF="http://jetty.mortbay.com/">http://jetty.mortbay.com</A></P>
</DIV>
<DIV ID="edn28" DIR="LTR">
	<P CLASS="msoendnotetext" STYLE="margin-bottom: 0.5cm"><A HREF="#_ednref28" NAME="_edn28">[28]</A>
	Apache ANT, <A HREF="http://jakarta.apache.org/ant/index.html">http://jakarta.apache.org/ant/index.html</A></P>
</DIV>
</BODY>
</HTML>